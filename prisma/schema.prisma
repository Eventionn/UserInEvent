

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "linux-musl"]
}

model UserInEvent {
  ticketID      String   @id @default(uuid()) @db.Uuid
  event_id      String   // ID de um evento
  user_id       String   // ID do usuário de outro serviço
  feedback_id   String?  @unique // Torna feedback_id único para relação um-para-um
  createdAt     DateTime @default(now())
  participated  Boolean

  feedback      Feedback? @relation(fields: [feedback_id], references: [feedbackID]) // Define relação com Feedback

  @@map("UserInEvents")
}

model Feedback {
  feedbackID    String   @id @default(uuid())
  rating        Int
  commentary    String   @db.VarChar(150)

  userInEvent   UserInEvent? // Relacionamento opcional com UserInEvent

  @@map("Feedbacks")
}


